{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nconst {\n  REACT_APP_API_TOKEN: API_TOKEN\n} = process.env;\n\nfunction useFetch(url) {\n  _s();\n\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n\n      try {\n        const res = await fetch(url, {\n          method: 'GET',\n          headers: {\n            'Content-type': 'application/json',\n            'Authorization': `Bearer ${API_TOKEN}` // notice the Bearer before your token\n\n          } // body: JSON.stringify(yourNewData)\n\n        });\n        console.log(\"res\", res);\n        const json = await res.json();\n        setData(json);\n        setLoading(false);\n      } catch (fetchError) {\n        setError(fetchError);\n      }\n    };\n\n    fetchData();\n  }, [url]);\n  return {\n    loading,\n    error,\n    data\n  };\n}\n\n_s(useFetch, \"cdnblwmK9QuMyYTkxGRQb1PLKRw=\");\n\nexport default useFetch;","map":{"version":3,"sources":["C:/Users/Alain Paulin/Documents/GitHub/MyPortfolio/src/hooks/useFetch.js"],"names":["useState","useEffect","REACT_APP_API_TOKEN","API_TOKEN","process","env","useFetch","url","data","setData","error","setError","loading","setLoading","fetchData","res","fetch","method","headers","console","log","json","fetchError"],"mappings":";;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AAEA,MAAM;AAACC,EAAAA,mBAAmB,EAACC;AAArB,IAAkCC,OAAO,CAACC,GAAhD;;AAEA,SAASC,QAAT,CAAkBC,GAAlB,EAAuB;AAAA;;AACrB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAI;AACZ,UAAMa,SAAS,GAAG,YAAW;AACzBD,MAAAA,UAAU,CAAC,IAAD,CAAV;;AAEA,UAAI;AACA,cAAME,GAAG,GAAG,MAAMC,KAAK,CAACT,GAAD,EAAK;AACxBU,UAAAA,MAAM,EAAE,KADgB;AAExBC,UAAAA,OAAO,EAAE;AACL,4BAAgB,kBADX;AAEL,6BAAkB,UAASf,SAAU,EAFhC,CAEmC;;AAFnC,WAFe,CAMxB;;AANwB,SAAL,CAAvB;AAQAgB,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBL,GAAnB;AACA,cAAMM,IAAI,GAAG,MAAMN,GAAG,CAACM,IAAJ,EAAnB;AACAZ,QAAAA,OAAO,CAACY,IAAD,CAAP;AACAR,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH,OAbD,CAaE,OAAOS,UAAP,EAAmB;AACjBX,QAAAA,QAAQ,CAACW,UAAD,CAAR;AACH;AACJ,KAnBD;;AAoBAR,IAAAA,SAAS;AACV,GAtBQ,EAsBN,CAACP,GAAD,CAtBM,CAAT;AAwBA,SAAM;AAACK,IAAAA,OAAD;AAAUF,IAAAA,KAAV;AAAiBF,IAAAA;AAAjB,GAAN;AACD;;GA9BQF,Q;;AAgCT,eAAeA,QAAf","sourcesContent":["import {useState, useEffect} from 'react'\r\n\r\nconst {REACT_APP_API_TOKEN:API_TOKEN} = process.env\r\n\r\nfunction useFetch(url) {\r\n  const [data, setData] = useState(null)\r\n  const [error, setError] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(()=>{\r\n    const fetchData = async () =>{\r\n        setLoading(true)\r\n\r\n        try {\r\n            const res = await fetch(url,{\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'Authorization': `Bearer ${API_TOKEN}`, // notice the Bearer before your token\r\n                },\r\n                // body: JSON.stringify(yourNewData)\r\n            })\r\n            console.log(\"res\", res)\r\n            const json = await res.json()\r\n            setData(json)\r\n            setLoading(false)\r\n        } catch (fetchError) {\r\n            setError(fetchError)\r\n        }\r\n    }\r\n    fetchData()\r\n  }, [url])\r\n\r\n  return{loading, error, data}\r\n}\r\n\r\nexport default useFetch"]},"metadata":{},"sourceType":"module"}